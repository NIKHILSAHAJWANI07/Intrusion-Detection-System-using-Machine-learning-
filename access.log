class LoggingHandler(http.server.SimpleHTTPRequestHandler):
    def log_message(self, format, *args):
        log_line = f"{self.address_string()} - - [{self.log_date_time_string()}] {format % args}"
        with open("access.log", "a") as log_file:
            log_file.write(log_line + "\n")

handler = LoggingHandler

